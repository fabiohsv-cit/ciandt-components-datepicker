/*
 ng-jedi-layout v0.0.5
 AngularJs UI jedi component
 https://github.com/jediproject/ng-jedi-layout
*/

!function(a){if("function"!=typeof define){var b=moment;return"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="jedi.layout",b=require("moment")),a(b)}define(["moment","ng-jedi-utilities","angular-ngMask","bootstrap-datetimepicker"],a)}(function(a){"use strict";angular.module("jedi.layout.datepicker",["jedi.utilities","ngMask"]).constant("jedi.layout.datepicker.DatepickerConfig",{template:'<div class="input-group date">   <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span></div>',mask:function(a,b,c,d,e,f,g){var h,i=c.mask,j=d.create();return h=j.generateRegex({mask:c.mask,repeat:void 0,clean:!1,limit:!0,restrict:"reject",validate:!0,model:c.ngModel,value:void 0}),h.then(function(){function d(a){if(a=a||"",a instanceof Date)return a;var b=j.getViewValue(a),c=h.maskWithoutOptionals||"",d=b.withDivisors(!0),e=b.withoutDivisors(!0);try{var f=j.getRegex(d.length-1),i=j.getRegex(c.length-1),k=f.test(d)||i.test(d);k||(b=j.removeWrongPositions(d),d=b.withDivisors(!0),e=b.withoutDivisors(!0)),g.$dirty&&(i.test(d)||g.$isEmpty(g.$modelValue)?g.$setValidity("mask",!0):g.$setValidity("mask",!1)),a!==d&&(g.$setViewValue(angular.copy(d),"input"),g.$render())}catch(l){throw $log.error("[mask - parseViewValue]"),l}return d}var e,h=j.getOptions(),i=!1;angular.forEach(g.$parsers,function(a){a==d.toString()&&(i=!0)}),i||g.$parsers.push(d);var k=function(){e=f(function(){f.cancel(e),d(b.val()),a.$apply()},100)};b.on("click.dtMask input.dtMask paste.dtMask keyup.dtMask",k);var l=a.$watch(c.ngModel,function(a,b){angular.isDefined(a)&&(d(a),l())})}),function(){b.off(".dtMask"),i=null,j=null}}}).directive("jdDatepicker",["$compile","$timeout","MaskService","ngMaskConfig","jedi.utilities.Utilities","$log","jedi.layout.datepicker.DatepickerConfig",function(b,c,d,e,f,g,h){return{restrict:"A",require:"^ngModel",link:function(b,i,j,k){if(!i.is("input"))return!1;var l,m,n,o,p=j.jdDatepicker,q={showTodayButton:!0,showClear:!0,showClose:!0,useStrict:!0,keepInvalid:!0};o=f.wrapElement(i,h.template,!0);var r=function(){q.locale=a.locale(),"date-time"===p.toLowerCase()||"datetime"===p.toLowerCase()||"date.time"===p.toLowerCase()?(q.format="L LT",l=a.localeData(a.locale()).longDateFormat("L")+" "+a.localeData().longDateFormat("LT"),q.useCurrent="minute"):"time"===p?(q.format="LT",l=a.localeData(a.locale()).longDateFormat("LT"),q.useCurrent="minute"):""===p||"date"===p?(q.format="L",l=a.localeData(a.locale()).longDateFormat("L"),q.useCurrent="day"):(l=p,q.format=l,q.useCurrent="minute"),m=l.replace(/DD/,"39").replace(/MM/,"19").replace(/YYYY/i,"2999").replace(/yy/i,"99").replace(/hh/i,"29").replace(/mm/,"59").replace(/ss/,"59"),i.attr("placeholder",l.toLowerCase()),j.mask=m,n&&n(),n=h.mask(b,i,j,d,e,c,k),o.data("DateTimePicker")&&o.data("DateTimePicker").destroy(),o.datetimepicker(q),k.$modelValue&&(i.val(k.$formatters[1](k.$modelValue)),o.data("DateTimePicker").date(k.$modelValue))};r(),b.$on("jedi.i18n.LanguageChanged",r),o.on("dp.change",function(b){if(!b.date)return void k.$setViewValue(null,"dp.change");var c;c=angular.isDate(b.date)&&!isNaN(b.date)?a(c):b.date,a.isMoment(c)&&c.isValid()?k.$setViewValue(c.format(l),"dp.change"):g.debug("data invalida no datepicker")}),k.$parsers.push(function(b){var c;if(b)if(a.isMoment(b)&&b.isValid())k.$setValidity("datepicker",!0),k.$setValidity("mask",!0),c=b;else if(angular.isDate(b)&&!isNaN(b))k.$setValidity("datepicker",!0),k.$setValidity("mask",!0),c=b;else if(angular.isString(b)){var d=a(b,l,!0);d.isValid()?(k.$setValidity("datepicker",!0),k.$setValidity("mask",!0),c=d.toDate()):(k.$setValidity("datepicker",!1),c=b)}else k.$setValidity("datepicker",!1),c=b;else k.$setValidity("datepicker",!0),k.$setValidity("mask",!0),c=b;return c!=o.data("DateTimePicker").date()&&o.data("DateTimePicker").date(c),c});var s=function(b){var c;if(b){if(a.isMoment(b)&&b.isValid())return b.format(l);if(angular.isDate(b)&&!isNaN(b))return c=a(b),c.format(l);if(angular.isString(b)){if(c=a(b,l,!0),c.isValid())return c.format(l);c=new Date(b);var d=a(c);return d.isValid()?d.format(l):(k.$setValidity("datepicker",!1),b)}return b}return b};k.$formatters.push(s),j.jdMinDate&&b.$watch(j.jdMinDate,function(){var c;c=b.$eval(j.jdMinDate)instanceof Date?a(b.$eval(j.jdMinDate)):a(b.$eval(j.jdMinDate),l,!0),c.isValid()?o.data("DateTimePicker").minDate(c):o.data("DateTimePicker").minDate()!==!1&&o.data("DateTimePicker").minDate(!1)}),j.jdMaxDate&&b.$watch(j.jdMaxDate,function(){var c;c=b.$eval(j.jdMaxDate)instanceof Date?a(b.$eval(j.jdMaxDate)):a(b.$eval(j.jdMaxDate),l,!0),c.isValid()?o.data("DateTimePicker").maxDate(c):o.data("DateTimePicker").maxDate()!==!1&&o.data("DateTimePicker").maxDate(!1)}),o.on("dp.show",function(a){var b=$(a.currentTarget).children("div.bootstrap-datetimepicker-widget"),c=b.parents(".form-group").parent();b.length>0&&c.length>0&&b.offset().top<c.offset().top&&(b.removeClass("top"),b.addClass("bottom"),b.attr("style","display: block; top: 26px; bottom: auto; left: 0px; right: auto;"))}),b.$on("$destroy",function(){if(o){var a=o.data("DateTimePicker");a&&a.destroy()}}),i.on("$destroy",function(){if(o){var a=o;o=null,a.remove()}b.$destroy()})}}}]),angular.module("jedi.layout.panel",["jedi.utilities"]).constant("jedi.layout.panel.PanelConfig",{defaultElementClass:"panel-body form-horizontal",defaultFormClass:"form-validation",defaultBoxedClass:"page",defaultPanelHeadingRightClass:"panel-heading-right",templateUrl:"assets/libs/ng-jedi-layout/panel.html"}).run(["$templateCache",function(a){a.put("assets/libs/ng-jedi-layout/panel.html",'<div class="{{jdPanel}}" ng-class="{\'jd-panel-disabled\': jdDisabled}">    <section class="panel panel-default">        <div class="panel-heading" ng-show="showTitle">            <strong><span ng-show="showTitleIcon" class="glyphicon {{jdTitleIcon}}"></span><jd-i18n>{{jdTitle}}</jd-i18n></strong>            <div class="pull-right"></div>        </div>        <ng-transclude></ng-transclude>    </section></div>')}]).directive("jdPanel",["jedi.utilities.Utilities","jedi.layout.panel.PanelConfig","$timeout","$compile","$filter","$templateCache",function(a,b,c,d,e,f){return{restrict:"A",scope:!0,controller:function(a){a.panelHead=null,a.setHeadingRight=function(b){b.length>0&&a.panelHead.find(".pull-right").html(b)}},compile:function(a,g){return a.addClass(b.defaultElementClass),a.is("form")&&(a.addClass(b.defaultFormClass),!g.name&&g.jdTitle&&a.attr("name",e("jdReplaceSpecialChars")(g.jdTitle)),angular.isUndefined(g.novalidate)&&a.attr("novalidate","")),""!=g.jdPanel?g.jdPanel="col-lg-"+g.jdPanel:0==a.parents(".jd-panel:first, .jd-modal:first").length&&(g.jdPanel=b.defaultBoxedClass,a.addClass("jd-panel")),"undefined"==typeof g.jdTitleIcon&&(g.jdTitleIcon="glyphicon-th"),"undefined"!=typeof g.jdToggle&&(g.jdTitleIcon="false"==g.jdToggle.toLowerCase().trim()?"glyphicon-chevron-right":"glyphicon-chevron-down"),{pre:function(a,b,c){},post:function(a,e,g){var h=f.get(b.templateUrl),i=$(h.replace("ng-transclude","transclude")),j=i.find(".panel-heading"),k=i.find("transclude,[transclude]");if(k.length>0){i.insertBefore(e);var l=a.$new();l=angular.extend(l,{showTitle:"undefined"!=typeof g.jdTitle,showTitleIcon:"false"!==g.jdTitleIcon&&""!==g.jdTitleIcon,jdPanel:g.jdPanel,jdTitleIcon:g.jdTitleIcon,jdTitle:g.jdTitle,jdToggle:g.jdToggle,jdDisabled:a.$parent.$eval(g.jdDisabled)}),d(i)(l),k.append(e);var m=e.children(".panel-footer");m.length>0&&e.after(m),a.panelHead=j,a.setHeadingRight(e.children(".panel-heading-right"));var n,o=e.add(m);if("undefined"!=typeof g.jdToggle){var p=j.find(".glyphicon"),q=function(b){o.is(":visible")?(p.removeClass("glyphicon-chevron-right"),p.addClass("glyphicon-chevron-down")):(p.removeClass("glyphicon-chevron-down"),p.addClass("glyphicon-chevron-right")),b||""===g.jdToggle||"true"===g.jdToggle||"false"===g.jdToggle||a.$eval(g.jdToggle)==o.is(":visible")||(a.$eval(g.jdToggle+" = value",{value:o.is(":visible")}),a.$apply())},r={height:"toggle","padding-top":"toggle","padding-bottom":"toggle"};a.$watch(function(){return a.$parent.$eval(g.jdDisabled)},function(a,b){g.jdDisabled&&(l.jdDisabled=a,a?w():v())});var s=function(a){var b={duration:200,easing:"linear",queue:!1,done:function(b){j.toggleClass("panel-collapsed"),o.is(":visible")==p.hasClass("glyphicon-chevron-right")&&q(a)}};o.stop().animate(r,b)},t=function(){o.hide(),j.addClass("panel-collapsed"),c(function(){q(!0)})},u=function(a){return s(),a.stopPropagation(),!1},v=function(){n=j.addClass("head-toggleable").find("*:first").addClass("toggleable").off("click",u).on("click",u)},w=function(){n=j.removeClass("head-toggleable").find("*:first").removeClass("toggleable").off("click",u)};if(l.jdDisabled||v(),"false"===g.jdToggle.toLowerCase().trim())t();else if(""!==g.jdToggle.toLowerCase().trim()){var x=a.$eval(g.jdToggle);void 0!=x&&x!=o.is(":visible")&&t(),a.$watch(function(){return a.$eval(g.jdToggle)},function(a,b){a!=b&&a!=o.is(":visible")&&s(!0)})}}a.$on("$destroy",function(){n&&n.unbind("click"),l.$destroy()}),e.on("$destroy",function(){if(i){var b=i;i=null,n=null,b.remove()}a.$destroy()})}}}}}}]),angular.module("jedi.layout.modal",[]).constant("jedi.layout.modal.ModalConfig",{defaultFormClass:"form-validation",defaultTableClass:"table-dynamic",defaultTemplateUrl:"assets/libs/ng-jedi-layout/modal.html"}).directive("jdModal",["jedi.layout.modal.ModalConfig","$timeout","$compile","$filter",function(a,b,c,d){return{restrict:"A",priority:1000.1,compile:function(e,f,g){if(e.addClass("jd-modal"),e.is("form")&&(e.addClass(a.defaultFormClass),!f.name&&f.jdTitle&&e.attr("name",d("jdReplaceSpecialChars")(f.jdTitle)),angular.isUndefined(f.novalidate)&&e.attr("novalidate","")),a.defaultTableClass){var h=e.find("table.table");h.length>0&&!e.hasClass(a.defaultTableClass)&&e.addClass(a.defaultTableClass)}var i=e.find(".modal-footer");if(i.length>0){var j=i[0].outerHTML;i.remove(),i=j}return function(a,d){i&&(i=jQuery(i),d.append(i),c(i)(a));var e=d.find("form:first");e.length>0&&b(function(){jQuery(":input:visible:enabled",e).not("[readonly]").filter(":first").focus()},10),d.find("[jd-dismiss-modal]").on("click",function(){return a.$dismiss(),!1}),a.$on("$destroy",function(){d.find("[jd-dismiss-modal]").unbind("click")})}}}}]).directive("jdModal",["jedi.layout.modal.ModalConfig","$timeout","$compile",function(a,b,c){return{restrict:"A",replace:!0,transclude:"element",priority:1e3,scope:{jdTitle:"@",jdTemplateUrl:"@"},templateUrl:function(b,c){return c.jdTemplateUrl?c.jdTemplateUrl:a.defaultTemplateUrl},controller:["$scope","$attrs","$element",function(a,b,c){a.closeModal=function(){return a.$parent.$dismiss(),!1}}]}}]).run(["$templateCache",function(a){a.put("assets/libs/ng-jedi-layout/modal.html",'<div>    <div class="panel-heading modal-header">      <strong><span class="glyphicon glyphicon-th"></span><jd-i18n>{{jdTitle}}</jd-i18n></strong>      <span class="glyphicon glyphicon-remove close" ng-click="closeModal()"></span>    </div>    <div class="modal-body form-horizontal" ng-transclude>    </div></div>')}]),angular.module("jedi.layout.treeview",[]).constant("jedi.layout.treeview.TreeviewConfig",{emptyTpl:'<div id="emptyTreeElement"><strong class="text-warning" jd-i18n>{{emptyMsgLabel}}</strong></div>',nodeTpl:'<li ng-repeat="{{repeatExp}}"><a class="angular-ui-tree-handle angular-ui-tree-hover" ng-click="toggle($event)" onclick="$(this).next().toggle();" href="javascript:;"><span class="fa fa-minus-square"></span>&nbsp;<strong>{{label}}</strong></a><ol class="angular-ui-tree-nodes"></ol></li>',lastNodeTpl:'<li class="angular-ui-tree-hover" ng-repeat="{{repeatExp}}" ng-class="{\'selected\' : {{rowItem}} == selectedItem}" ng-click="changeClass({{rowItem}})"></li>',emptyMsgLabel:"No items found."}).directive("jdTreeview",["jedi.layout.treeview.TreeviewConfig","$interpolate",function(a,b){return{restrict:"A",compile:function(c,d){c.hasClass("angular-ui-tree-nodes")||c.addClass("angular-ui-tree-nodes"),c.children().addClass("angular-ui-tree-child");var e=c.children(),f=d.jdTreeview.split(";"),g=c;return g.addClass("pre-scrollable"),angular.forEach(f,function(c){var e=c.match(/\[.*\]/g);e&&e.length>0?(e=e[0],c=c.replace(e,""),e=e.replace("[","").replace("]","")):e=void 0;var f,h=c.trim().split(" ")[0];e?(f=$(b(a.nodeTpl)(angular.extend({repeatExp:c,label:"{{"+e+"}}"},d))),g.append(f),g=f.find("ol:first")):(f=$(b(a.lastNodeTpl)(angular.extend({repeatExp:c,rowItem:h},d))),g.append(f),g=f)}),g.append(e),g.addClass("angular-ui-tree-nodes-last"),{post:function(c,d,e,f){c.$watch(function(){var a=e.jdTreeview.split(";"),b=a[0].split(" ")[2],d=c.$eval(b);return d},function(c,f){if(d.children().remove("#emptyTreeElement"),c){if(d.show(),c!=f&&0===c.length){var g=b(a.emptyTpl)(angular.extend({emptyMsgLabel:a.emptyMsgLabel},e)),h=angular.element(g);d.append(h)}}else d.hide()}),c.selectedItem=void 0,c.collapsed=!1,c.changeClass=function(a){c.selectedItem=a},c.toggle=function(a){var b=angular.element(a.currentTarget.firstChild);b.hasClass("fa fa-minus-square")?(b.removeClass("fa fa-minus-square"),b.addClass("fa fa-plus-square")):(b.removeClass("fa fa-plus-square"),b.addClass("fa fa-minus-square"))}}}}}}]),angular.module("jedi.layout.input",[]).constant("jedi.layout.input.InputConfig",{specificSizes:{"{{(type === 'radio' || type === 'checkbox') && (jdRepeat == undefined || jdRepeat == '')}}":{xsSize:12,smSize:3,mdSize:3,lgSize:3,xsLabelSize:0,smLabelSize:0,mdLabelSize:0,lgLabelSize:0,xsInputSize:12,smInputSize:12,mdInputSize:12,lgInputSize:12}},specificSizesProportion:{},lgSizesProportion:{1:{mdSize:1,smSize:2,xsSize:12},2:{mdSize:2,smSize:3,xsSize:12},3:{mdSize:3,smSize:3,xsSize:12},4:{mdSize:4,smSize:4,xsSize:12},5:{mdSize:5,smSize:5,xsSize:12},6:{mdSize:6,smSize:6,xsSize:12},7:{mdSize:7,smSize:7,xsSize:12},8:{mdSize:8,smSize:8,xsSize:12},9:{mdSize:9,smSize:9,xsSize:12},10:{mdSize:10,smSize:10,xsSize:12},11:{mdSize:11,smSize:11,xsSize:12},12:{mdSize:12,smSize:12,xsSize:12}},defaultSizes:{xsSize:12,smSize:3,mdSize:3,lgSize:3,xsLabelSize:12,smLabelSize:12,mdLabelSize:12,lgLabelSize:12,xsInputSize:12,smInputSize:12,mdInputSize:12,lgInputSize:12},maxSize:12,templateSelector:{"{{(type === 'radio' || type === 'checkbox') && jdRepeat != undefined && jdRepeat != ''}}":"assets/libs/ng-jedi-layout/input-multipleinput.html","{{(type === 'radio' || type === 'checkbox') && (jdRepeat == undefined || jdRepeat == '')}}":"assets/libs/ng-jedi-layout/input-oneinput.html"},defaultTemplate:"assets/libs/ng-jedi-layout/input-single.html",useValidationTooltip:!0,uiImplementations:{bootstrap:{elementClass:"form-control",templates:{singleInpout:'<div class="col-xs-{{jdXsSize}} col-sm-{{jdSmSize}} col-md-{{jdMdSize}} col-lg-{{jdLgSize}} jd-{{type}}">    <div class="form-group">        <label ng-if="showLabel" for="{{id}}" class="col-xs-{{jdXsLabelSize}} col-sm-{{jdSmLabelSize}} col-md-{{jdMdLabelSize}} col-lg-{{jdLgLabelSize}} {{jdLabelClass}} control-label" jd-i18n>{{jdLabel}}{{showRequired}}</label>         <div class="col-xs-{{jdXsInputSize}} col-sm-{{jdSmInputSize}} col-md-{{jdMdInputSize}} col-lg-{{jdLgInputSize}} {{jdInputClass}}">            <ng-transclude></ng-transclude>            <small class="help-block" ng-if="showHelp" jd-i18n>{{jdHelp}}</small>         </div>    </div></div>',multipleInput:'<div class="col-xs-{{jdXsSize}} col-sm-{{jdSmSize}} col-md-{{jdMdSize}} col-lg-{{jdLgSize}} jd-multi-{{type}}">    <div class="form-group">        <label ng-if="showLabel" class="col-xs-{{jdXsLabelSize}} col-sm-{{jdSmLabelSize}} col-md-{{jdMdLabelSize}} col-lg-{{jdLgLabelSize}} {{jdLabelClass}} control-label" jd-i18n>{{jdGrouplabel}}{{showRequired}}</label>        <div class="col-xs-{{jdXsInputSize}} col-sm-{{jdSmInputSize}} col-md-{{jdMdInputSize}} col-lg-{{jdLgInputSize}} {{jdInputClass}}">            <label class="{{type}}-inline" ng-repeat>                <ng-transclude></ng-transclude>{{jdLabel}}            </label>            <small class="help-block" ng-if="showHelp" jd-i18n>{{jdHelp}}</small>        </div>    </div></div>',oneInput:'<div class="col-xs-{{jdXsSize}} col-sm-{{jdSmSize}} col-md-{{jdMdSize}} col-lg-{{jdLgSize}} jd-{{type}}">    <div class="form-group">        <div class="col-xs-offset-{{jdXsLabelSize}} col-sm-offset-{{jdSmLabelSize}} col-md-offset-{{jdMdLabelSize}} col-lg-offset-{{jdLgLabelSize}} {{jdLabelClass}} col-xs-{{jdXsInputSize}} col-sm-{{jdSmInputSize}} col-md-{{jdMdInputSize}} col-lg-{{jdLgInputSize}} {{jdInputClass}}">            <div class="{{type}}">                <label>                    <ng-transclude></ng-transclude>{{jdLabel}}{{showRequired}}                </label>            </div>            <small class="help-block" ng-if="showHelp" jd-i18n>{{jdHelp}}</small>        </div>    </div></div>'}},materialize:{elementClass:["validate",function(a){return a.is("textarea")?"materialize-textarea":""}],templates:{singleInpout:'<div class="input-field col s{{jdSmSize}} m{{jdMdSize}} l{{jdLgSize}} jd-{{type}} {{jdInputClass}}">  <ng-transclude></ng-transclude>  <label ng-if="showLabel" for="{{id}}" jd-i18n class="{{jdLabelClass}}">{{jdLabel}}{{showRequired}}</label>  <small ng-if="showHelp" jd-i18n>{{jdHelp}}</small></div>',multipleInput:'<div class="col s{{jdSmSize}} m{{jdMdSize}} l{{jdLgSize}} jd-multi-{{type}}">    <label ng-if="showLabel" class="{{jdLabelClass}}" jd-i18n>{{jdGrouplabel}}{{showRequired}}</label>    <span class="{{jdInputClass}}" ng-repeat>      <ng-transclude></ng-transclude>      <label ng-if="showLabel" for="{{id}}" jd-i18n>{{jdLabel}}</label>    </span>    <small ng-if="showHelp" jd-i18n>{{jdHelp}}</small></div>',oneInput:'<div class="col s{{jdSmSize}} m{{jdMdSize}} l{{jdLgSize}} jd-{{type}} {{jdInputClass}}">  <ng-transclude></ng-transclude>  <label ng-if="showLabel" for="{{id}}" class="{{jdLabelClass}}" jd-i18n>{{jdLabel}}{{showRequired}}</label>  <small ng-if="showHelp" jd-i18n>{{jdHelp}}</small></div>'},postLink:function(a,b){setTimeout(function(){var a=b.find("label");if(a.length>0){var c=b.find("ng-transclude:first > :first-child,[ng-transclude]:first > :first-child");c.val()&&a.addClass("active"),c.on("focus",function(){a.addClass("active")}).on("blur",function(){c.val()||a.removeClass("active")})}},0)}}}}).directive("jdInput",["jedi.layout.input.InputConfig","jedi.layout.LayoutConfig","$filter",function(a,b,c){return{restrict:"A",priority:1000.2,compile:function(d,e){if(d.attr("id")||(d.attr("id",d.attr("ng-model")),d.attr("id")||(d.attr("id",d.attr("name")),d.attr("id")||d.attr("id",c("jdReplaceSpecialChars")(d.attr("jd-label")))),e.id=d.attr("id")),d.attr("name")||d.attr("name",d.attr("id")),d.attr("jd-i18n")||d.attr("jd-i18n",""),d.is(":input")&&!d.is(":radio")&&!d.is(":checkbox")&&!d.hasClass("form-control")&&a.uiImplementations[b.defaultUiImpl]&&a.uiImplementations[b.defaultUiImpl].elementClass){var f=a.uiImplementations[b.defaultUiImpl].elementClass,g="";"function"==typeof f?g=f(d):"function"==typeof f.push?angular.forEach(f,function(a){g+="function"==typeof a?a(d)+" ":a+" "}):g=f,d.addClass(g)}e.type||d.is(":input")||(e.type="statictext"),e.jdRepeat&&(d.attr("ng-value")&&d.attr("ng-value").indexOf("$parent")<0&&"true"!=d.attr("ng-value")&&"false"!=d.attr("ng-value")&&d.attr("ng-value","$parent."+d.attr("ng-value")),d.attr("ng-model")&&d.attr("ng-model").indexOf("$parent")<0&&d.attr("ng-model","$parent.$parent.$parent."+d.attr("ng-model").replace("$index","$parent.$index"))),d.is("textarea")&&(e.type="textarea"),d.is("select")&&(e.type="select",d.attr("ng-model").indexOf("$parent")<0&&d.attr("ng-model","$parent.$parent."+d.attr("ng-model"))),e.jdOptions&&d.attr("ng-options",e.jdOptions),a.useValidationTooltip&&!e.jdValidationTooltip&&e.ngModel&&d.is(":input")&&d.attr("jd-validation-tooltip",""),!e.required&&d.find(":input[required],:input[ng-required],:input[data-ng-required]").length>0&&(e.required=!0)}}}]).directive("jdInput",["jedi.layout.input.InputConfig","jedi.layout.LayoutConfig","$interpolate",function(a,b,c){return{restrict:"A",replace:!0,transclude:"element",scope:{jdLabel:"@",jdGrouplabel:"@",id:"@",type:"@",jdXsSize:"@",jdSmSize:"@",jdMdSize:"@",jdLgSize:"@",jdXsLabelSize:"@",jdSmLabelSize:"@",jdMdLabelSize:"@",jdLgLabelSize:"@",jdXsInputSize:"@",jdSmInputSize:"@",jdMdInputSize:"@",jdLgInputSize:"@",jdHelp:"@",jdInputClass:"@",jdLabelClass:"@",jdElementClass:"@"},priority:1000.1,templateUrl:function(b,d){var e;return jQuery.each(a.templateSelector,function(a,b){var f="true"===c(a)(d);return f?(e=b,!1):void 0}),e?e:a.defaultTemplate},controller:["$scope","$attrs","$element",function(b,d,e){if(d.jdRepeat?b.showLabel=d.jdGrouplabel&&""!==d.jdGrouplabel:b.showLabel=d.jdLabel&&""!==d.jdLabel,b.showRequired=angular.isDefined(d.required)||angular.isDefined(d.ngRequired)||angular.isDefined(d.dataNgRequired)?" *":"",b.showHelp=d.jdHelp&&""!==d.jdHelp,d.jdInput){b.jdLgSize=d.jdInput,d.jdLgSize=d.jdInput;var f;if(jQuery.each(a.specificSizesProportion,function(a,b){var e="true"===c(a)(d);return e?(f=b,!1):void 0}),f){var g=f[d.jdInput];return void jQuery.each(g,function(a,c){a="jd"+a.charAt(0).toUpperCase()+a.substr(1),d[a]||(b[a]=c,d[a]=b[a])})}var h=a.lgSizesProportion[d.jdInput];jQuery.each(h,function(a,c){a="jd"+a.charAt(0).toUpperCase()+a.substr(1),d[a]||(b[a]=c,d[a]=b[a])})}var i=a.maxSize,j=a.defaultSizes;jQuery.each(a.specificSizes,function(a,b){var e="true"===c(a)(d);return e?(j=b,!1):void 0}),jQuery.each(j,function(a,c){if(a="jd"+a.charAt(0).toUpperCase()+a.substr(1),!d[a]){if(b[a]=c,a.indexOf("Label")>-1){var e=a.replace("Label","Input");if(d[e]){var f=parseInt(d[e]);b[a]=f==i?i:i-f}}if(a.indexOf("Input")>-1){var g=a.replace("Input","Label");if(d[g]){var h=parseInt(d[g]);b[a]=h==i?i:i-h}}d[a]=b[a]}})}],compile:function(c,d,e){if(d.jdRepeat){var f=c.find("[ng-repeat]");d.jdRepeat.indexOf("$parent")<0?f.attr("ng-repeat",d.jdRepeat.replace(/\s+in\s+/," in $parent.")):f.attr("ng-repeat",d.jdRepeat),f.html(f.html().replace("{{jdLabel}}",d.jdLabel))}return function(c,d,e,f,g){if(e.jdElementClass&&d.find("ng-transclude:first > :first-child,[ng-transclude]:first > :first-child").addClass(e.jdElementClass),d.is("[type=select]")){var h=d.controller("select"),i=d.find("select").controller("select");h&&i&&(h.ngModelCtrl=i.ngModelCtrl,h.unknownOption=i.unknownOption,h.renderUnknownOption=i.renderUnknownOption,h.removeUnknownOption=i.removeUnknownOption,h.readValue=i.readValue,h.writeValue=i.writeValue,h.addOption=i.addOption,h.removeOption=i.removeOption,h.hasOption=i.hasOption)}a.uiImplementations[b.defaultUiImpl]&&a.uiImplementations[b.defaultUiImpl].postLink&&a.uiImplementations[b.defaultUiImpl].postLink(c,d,e,f,g)}}}}]).run(["$templateCache","jedi.layout.input.InputConfig","jedi.layout.LayoutConfig",function(a,b,c){a.put("assets/libs/ng-jedi-layout/input-single.html",b.uiImplementations[c.defaultUiImpl].templates.singleInput),a.put("assets/libs/ng-jedi-layout/input-multipleinput.html",b.uiImplementations[c.defaultUiImpl].templates.multipleInput),a.put("assets/libs/ng-jedi-layout/input-oneinput.html",b.uiImplementations[c.defaultUiImpl].templates.oneInput)}]),angular.module("jedi.layout.validationtooltip",[]).constant("jedi.layout.validationtooltip.ValidationTooltipConfig",{messages:{required:"Required field.",minlength:"Field should have at least {{minLength}} characters.",maxlength:"Field should have at maximum {{maxLength}} characters.",pattern:"Invalid value.",equal:"Value should match the previous field.",email:"Invalid email.",url:"Invalid Url.",number:"Please use a valid number.",datepicker:"Plase use a valid date.",date:"Plase use a valid date.",min:"Use a number starting from {{min}}.",max:"Use a number that is less or equal to {{max}}.",cpf:"Invalid CPF.",cnpj:"Invalid CNPJ.","default":"Invalid value."}}).directive("jdValidationTooltip",["$injector","$interpolate","jedi.layout.validationtooltip.ValidationTooltipConfig",function(a,b,c){var d;try{d=a.get("jedi.i18n.Localize")}catch(e){}return{restrict:"A",require:"^ngModel",link:function(a,e,f,g){var h=f.ngMinlength,i=f.ngMaxlength;h&&(e.attr("minLength",h),f.minLength=h),i&&(e.attr("maxLength",i),f.maxLength=i),e.on("change.jdValidationTooltip click.jdValidationTooltip input.jdValidationTooltip paste.jdValidationTooltip keyup.jdValidationTooltip",function(){e.removeData("jd-modelstate-errors")}),a.$watch(function(){return g.$dirty&&g.$invalid||angular.isDefined(e.data("jd-modelstate-errors"))},function(h){var i=e.data("bs.tooltip");h?a.$watch(function(){return e.data("bs.tooltip")},function(h){h||_.isEmpty(g.$error)||(e.tooltip({trigger:"manual",container:"body"}),e.on("focus.jdValidationTooltip mouseenter.jdValidationTooltip",function(){var h,i=e.data("bs.tooltip"),j=Object.getOwnPropertyNames(g.$error);if(_.contains(j,"required"))h="required";else{var k="undefined"!=typeof InstallTrigger;h=k?j[j.length-1]:j[0]}var l=c.messages[h];l||("jdAsyncValidate"==h&&(l=f.jdAsyncValidateMessage),l||(l=e.data("jd-modelstate-errors"),l||(l=f[h+"Message"],l||(l=c.messages["default"])))),l=b(l)(angular.extend({},a,f)),i.tip().hasClass("in")&&i.options.title==l||(i.options.title=d?d.get(l):l,(window.innerWidth||document.documentElement.clientWidth)<995?i.options.placement="top":i.options.placement="right",e.tooltip("show"))}),e.on("blur.jdValidationTooltip mouseleave.jdValidationTooltip",function(){var a=e.data("bs.tooltip");a&&a.tip().hasClass("in")&&e.tooltip("hide")}))}):i&&(e.unbind("focus.jdValidationTooltip mouseenter.jdValidationTooltip blur.jdValidationTooltip mouseleave.jdValidationTooltip"),e.tooltip("destroy"))}),a.$on("$destroy",function(){e.unbind("change.jdValidationTooltip click.jdValidationTooltip input.jdValidationTooltip paste.jdValidationTooltip keyup.jdValidationTooltip focus.jdValidationTooltip mouseenter.jdValidationTooltip blur.jdValidationTooltip mouseleave.jdValidationTooltip"),e.tooltip("destroy")})}}}]),angular.module("jedi.layout",["jedi.layout.datepicker","jedi.layout.panel","jedi.layout.modal","jedi.layout.treeview","jedi.layout.input","jedi.layout.validationtooltip"]),angular.module("jedi.layout").constant("jedi.layout.LayoutConfig",{defaultUiImpl:"bootstrap"})});
//# sourceMappingURL=layout.min.map